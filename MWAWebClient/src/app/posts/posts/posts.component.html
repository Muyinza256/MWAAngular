<section>
    <div class="container">
      <div class="row">
        <div class="col-md-8">
            <div class="panel panel-default">
                <div class=panel-body>
                    <div class="row">
                        <div class="col-md-6">
                            <input type="text" class="form-control" id="postSearchName" name="postSearchName" [(ngModel)] = "postSearchName" placeholder="Search posts"/>
                        </div>
                        <div class="col-md-2">
                            <button (click)="searchPosts()" class="btn btn-success">Search</button>
                        </div>
                        <div class="col-md-2">
                            <button (click)="showAllPosts()" class="btn btn-default">Show all</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <form>
                        <div>
                            <img *ngIf="isPostImageReady" [src]="postImageToShow" class="img-thumbnail" alt="">
                        </div>
                        <div class="form-group">
                          <textarea class="form-control" id="postText" name="postText" [(ngModel)]="postText" placeholder="Write on the wall"></textarea>
                        </div>
                        <div *ngIf="loggedInUser._role == 'admin'">
                            <div class="form-group">
                                <div class="col-md-1">
                                    <label>Age</label>                                    
                                </div>
                                <div class="col-md-5">
                                    <input type="number" class="form-control" id="postTargetAge" name="postTargetAge" [(ngModel)]="postTargetAge" placeholder="Age">    
                                </div>
                                <div class="col-md-1">
                                    <label>Zip</label>                                    
                                </div>
                                <div class="col-md-5">
                                    <input type="number" class="form-control" id="postTargetZip" name="postTargetZip" [(ngModel)]="postTargetZip" placeholder="Zip">    
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-1">
                                    <label>Street</label>                                    
                                </div>
                                <div class="col-md-5">
                                    <input type="text" class="form-control" id="postTargetStreet" name="postTargetStreet" [(ngModel)]="postTargetStreet" placeholder="Street">
                                </div>
                                <div class="col-md-1">
                                    <label>State</label>                                    
                                </div>
                                <div class="col-md-5">
                                    <input type="text" class="form-control" id="postTargetState" name="postTargetState" [(ngModel)]="postTargetState" placeholder="State">
                                </div>
                            </div>                            
                        </div>
                        <button *ngIf="loggedInUser._role == 'admin'" (click)="submitPost()" class="btn btn-success">Add Advert</button>
                        <button *ngIf="loggedInUser._role == 'user'" (click)="submitPost()" class="btn btn-success">Add Post</button>
                        <div class="pull-right">
                          <div class="btn-toolbar">
                            <input style="display: none" type="file" #postImageInput (change)="onImageSelect($event)">
                            <button type="button" class="btn btn-default" (click)="postImageInput.click()"><i class="fa fa-file-image-o"></i>Image</button>
                          </div>
                        </div>
                      </form>
                </div>
            </div>

            <app-post-detail *ngFor="let post of _posts" [post]="post">
                    
            </app-post-detail>
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                    <button class="btn btn-success" (click)="showMore()">Show more</button>
                </div>
                <div class="col-md-4"></div>
            </div>
            </div>
        </div>
    </div>
</section>